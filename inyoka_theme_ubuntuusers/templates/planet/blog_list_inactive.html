{#
    planet/blog_list.html
    ~~~~~~~~~~~~~~~~

    This is the overview of the static pages configuration.

    :copyright: (c) 2007-2015 by the Inyoka Team, see AUTHORS for more details.
    :license: BSD, see LICENSE for more details.
#}
{%- extends 'planet/page.html' %}
{% from 'macros.html' import render_pagination %}
{% set rendered_pagination = render_pagination(pagination) %}

{% do BREADCRUMB.append(_('Inactive blogs'), href('planet', 'blogs', 'inactive'), True) %}
{% do BREADCRUMB.append(_('Bloglist'), href('planet', 'blogs'), True) %}

{% block content %}
  <h3>{% trans %}Blogs{% endtrans %}</h3>
  <a href="{{ href('planet', 'blog', 'new') }}">{% trans %}Add new blog{% endtrans %}</a> |
  <a href="{{ href('planet', 'blogs') }}">{% trans %}Active blogs{% endtrans %}</a>
  <table class="static_pages">
    <colgroup>
      <col width="40%" />
      <col width="40%" />
      <col width="20%" />
    </colgroup>
    <thead>
      <tr>
        <th>{{ table.get_html('name', _('Name')) }}</th>
        <th>{{ table.get_html('user', _('User')) }}</th>
        <th>{{ table.get_html('latest_update', _('Latest update')) }}</th>
      </tr>
    </thead>
    <tbody>
    {%- for blog in object_list %}
      <tr>
        <td><a href="{{ blog|url('edit') }}">{{ blog.name|e }}</a></td>
        <td>{% if blog.user %}<a href="{{ href('portal', 'user', blog.user) }}">{{ blog.user }}</a>{%else%} - {% endif %}</td>
        <td>{{ blog.latest_update|datetime if blog.latest_update else _('No entry') }}</td>
      </tr>
    {%- endfor %}
    </tbody>
  </table>
  <div class="pagination pagination_right">{{ rendered_pagination }}</div>
{% endblock %}
